function is_youtubelink(e){return!!e.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/)&&RegExp.$1}function is_imagelink(e){return!!e.match(/([a-z\-_0-9\/\:\.]*\.(jpg|jpeg|png|gif))/i)}function is_vimeolink(e,t){var o=!1,i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState==XMLHttpRequest.DONE)if(200==i.status){var e=JSON.parse(i.responseText);o=e.video_id,console.log(o),t.classList.add("lightbox-vimeo"),t.setAttribute("data-id",o),t.addEventListener("click",function(e){e.preventDefault(),document.getElementById("lightbox").innerHTML='<a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><div class="videoWrapperContainer"><div class="videoWrapper"><iframe src="https://player.vimeo.com/video/'+t.getAttribute("data-id")+'/?autoplay=1&byline=0&title=0&portrait=0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div></div>',document.getElementById("lightbox").style.display="block",setGallery(this)})}else 400==i.status?alert("There was an error 400"):alert("something else other than 200 was returned")},i.open("GET","https://vimeo.com/api/oembed.json?url="+e,!0),i.send()}function setGallery(e){if(document.body.querySelectorAll(".gallery").forEach(function(e){e.classList.remove("gallery")}),e.closest("ul, p")){var t,o=e.closest("ul, p").querySelectorAll("a[class*='lightbox-']");o.forEach(function(e){e.classList.remove("current")}),o.forEach(function(t){e.getAttribute("href")==t.getAttribute("href")&&t.classList.add("current")}),o.length>1&&(document.getElementById("lightbox").classList.add("gallery"),o.forEach(function(e){e.classList.add("gallery")}));var i=document.querySelectorAll("a.gallery");if(Object.keys(i).forEach(function(e){i[e].classList.contains("current")&&(t=e)}),t==i.length-1)var n=0;else n=parseInt(t)+1;if(0==t)var l=parseInt(i.length-1);else l=parseInt(t)-1;document.getElementById("next").addEventListener("click",function(){i[n].click()}),document.getElementById("prev").addEventListener("click",function(){i[l].click()})}}function initLightbox(){var e=document.createElement("div");e.setAttribute("id","lightbox"),document.body.appendChild(e),document.getElementById("lightbox").addEventListener("click",function(e){"next"!=e.target.id&&"prev"!=e.target.id&&(this.innerHTML="",document.getElementById("lightbox").style.display="none")}),document.querySelectorAll("a.lightbox-youtube").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),document.getElementById("lightbox").innerHTML='<a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><div class="videoWrapperContainer"><div class="videoWrapper"><iframe src="https://www.youtube.com/embed/'+this.getAttribute("data-id")+'?autoplay=1&showinfo=0&rel=0"></iframe></div>',document.getElementById("lightbox").style.display="block",setGallery(this)})}),document.querySelectorAll("a.lightbox-image").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),document.getElementById("lightbox").innerHTML='<a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><div class="img" style="background: url(\''+this.getAttribute("href")+'\') center center / contain no-repeat;" title="'+this.getAttribute("title")+'" ><img src="'+this.getAttribute("href")+'" alt="'+this.getAttribute("title")+'" /></div><span>'+this.getAttribute("title")+"</span>",document.getElementById("lightbox").style.display="block",setGallery(this)})})}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.HTMLCollection&&!HTMLCollection.prototype.forEach&&(HTMLCollection.prototype.forEach=Array.prototype.forEach),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),document.addEventListener("DOMContentLoaded",function(){initLightbox()});
