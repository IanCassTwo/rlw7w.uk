!function(e,t){function n(){var t=new XMLHttpRequest;t.open("GET","/assets/js/search-data.json",!0),t.onload=function(){if(t.status>=200&&t.status<400){var n=JSON.parse(t.responseText);lunr.tokenizer.separator=/[\s\-/]+/,function(t,n){var r,t=t,n=n,s=document.getElementById("search-input"),a=document.getElementById("search-results"),i=(document.getElementById("main-header"),0);function l(){document.documentElement.classList.remove("search-active")}function c(){i++;var e=s.value;if(""===e?l():(document.documentElement.classList.add("search-active"),window.scroll(0,-1),setTimeout(function(){window.scroll(0,0)},0)),e!==r&&(r=e,a.innerHTML="",""!==e)){var c=t.query(function(t){var n=lunr.tokenizer(e);t.term(n,{boost:10}),t.term(n,{wildcard:lunr.Query.wildcard.TRAILING})});if(0==c.length&&e.length>2){var d=lunr.tokenizer(e).filter(function(e,t){return e.str.length<20});d.length>0&&(c=t.query(function(t){t.term(d,{editDistance:Math.round(Math.sqrt(e.length/2-1))})}))}if(0==c.length){var o=document.createElement("div");o.classList.add("search-no-result"),o.innerText="No results found",a.appendChild(o)}else{var u=document.createElement("ul");u.classList.add("search-results-list"),a.appendChild(u),function e(t,n,r,s,a,l){if(l!=i)return;for(var c=r;c<r+s;c++){if(c==n.length)return;v(t,n[c])}setTimeout(function(){e(t,n,r+s,s,a,l)},a)}(u,c,0,10,100,i)}}function v(e,t){var r=n[t.ref],s=document.createElement("li");s.classList.add("search-results-list-item"),e.appendChild(s);var a=document.createElement("a");a.classList.add("search-result"),a.setAttribute("href",r.url),s.appendChild(a);var i=document.createElement("div");i.classList.add("search-result-title"),a.appendChild(i);var l=document.createElement("div");l.classList.add("search-result-doc"),l.innerHTML='<svg viewBox="0 0 24 24" class="search-result-icon"><use xlink:href="#svg-doc"></use></svg>',i.appendChild(l);var c=document.createElement("div");c.classList.add("search-result-doc-title"),c.innerHTML=r.doc,l.appendChild(c);var d=c;if(r.doc!=r.title){l.classList.add("search-result-doc-parent");var o=document.createElement("div");o.classList.add("search-result-section"),o.innerHTML=r.title,i.appendChild(o),d=o}var u=t.matchData.metadata,v=[],p=[];for(var f in u){var m=u[f];if(m.title){var g=m.title.position;for(var E in g)v.push(g[E])}if(m.content){var g=m.content.position;for(var E in g){for(var L=g[E],w=L[0],y=L[0]+L[1],S=!0,T=!0,E=0;E<5;E++){var b=r.content.lastIndexOf(" ",w-2),k=r.content.lastIndexOf(". ",w-2);if(k>=0&&k>b){w=k+1,S=!1;break}if(b<0){w=0,S=!1;break}w=b+1}for(var E=0;E<10;E++){var b=r.content.indexOf(" ",y+1),k=r.content.indexOf(". ",y+1);if(k>=0&&k<b){y=k,T=!1;break}if(b<0){y=r.content.length,T=!1;break}y=b}p.push({highlight:L,previewStart:w,previewEnd:y,ellipsesBefore:S,ellipsesAfter:T})}}}if(v.length>0&&(v.sort(function(e,t){return e[0]-t[0]}),d.innerHTML="",h(d,r.title,0,r.title.length,v)),p.length>0){p.sort(function(e,t){return e.highlight[0]-t.highlight[0]});for(var C=p[0],x={highlight:[C.highlight],previewStart:C.previewStart,previewEnd:C.previewEnd,ellipsesBefore:C.ellipsesBefore,ellipsesAfter:C.ellipsesAfter},q=[x],f=1;f<p.length;f++)C=p[f],x.previewEnd<C.previewStart?(x={highlight:[C.highlight],previewStart:C.previewStart,previewEnd:C.previewEnd,ellipsesBefore:C.ellipsesBefore,ellipsesAfter:C.ellipsesAfter},q.push(x)):(x.highlight.push(C.highlight),x.previewEnd=C.previewEnd,x.ellipsesAfter=C.ellipsesAfter);var B=document.createElement("div");B.classList.add("search-result-previews"),a.appendChild(B);for(var M=r.content,f=0;f<Math.min(q.length,3);f++){var L=q[f],A=document.createElement("div");A.classList.add("search-result-preview"),B.appendChild(A),L.ellipsesBefore&&A.appendChild(document.createTextNode("... ")),h(A,M,L.previewStart,L.previewEnd,L.highlight),L.ellipsesAfter&&A.appendChild(document.createTextNode(" ..."))}}var I=document.createElement("span");I.classList.add("search-result-rel-url"),I.innerText=r.relUrl,i.appendChild(I)}function h(e,t,n,r,s){var a=n;for(var i in s){var l=s[i],c=document.createElement("span");c.innerHTML=t.substring(a,l[0]),e.appendChild(c),a=l[0]+l[1];var d=document.createElement("span");d.classList.add("search-result-highlight"),d.innerHTML=t.substring(l[0],a),e.appendChild(d)}var c=document.createElement("span");c.innerHTML=t.substring(a,r),e.appendChild(c)}}e.addEvent(s,"focus",function(){setTimeout(c,0)}),e.addEvent(s,"keyup",function(e){switch(e.keyCode){case 27:s.value="";break;case 38:case 40:case 13:return void e.preventDefault()}c()}),e.addEvent(s,"keydown",function(e){switch(e.keyCode){case 38:e.preventDefault();var t=document.querySelector(".search-result.active");if(t&&(t.classList.remove("active"),t.parentElement.previousSibling)){var n=t.parentElement.previousSibling.querySelector(".search-result");n.classList.add("active")}return;case 40:e.preventDefault();var t=document.querySelector(".search-result.active");if(t){if(t.parentElement.nextSibling){var r=t.parentElement.nextSibling.querySelector(".search-result");t.classList.remove("active"),r.classList.add("active")}}else{var r=document.querySelector(".search-result");r&&r.classList.add("active")}return;case 13:e.preventDefault();var t=document.querySelector(".search-result.active");if(t)t.click();else{var s=document.querySelector(".search-result");s&&s.click()}return}}),e.addEvent(document,"click",function(e){e.target!=s&&l()})}(lunr(function(){for(var e in this.ref("id"),this.field("title",{boost:200}),this.field("content",{boost:2}),this.field("relUrl"),this.metadataWhitelist=["position"],n)this.add({id:e,title:n[e].title,content:n[e].content,relUrl:n[e].relUrl})}),n)}else console.log("Error loading ajax request. Request status:"+t.status)},t.onerror=function(){console.log("There was a connection error")},t.send()}e.addEvent=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)},e.removeEvent=function(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener(t,n)},e.onReady=function(e){"loading"!=document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&e()})},e.getTheme=function(){var e=document.querySelector('[rel="stylesheet"]').getAttribute("href");return e.substring(e.lastIndexOf("-")+1,e.length-4)},e.setTheme=function(e){document.querySelector('[rel="stylesheet"]').setAttribute("href","/assets/css/just-the-docs-"+e+".css")},e.onReady(function(){!function(){e.addEvent(document,"click",function(e){for(var t=e.target;t&&(!t.classList||!t.classList.contains("nav-list-expander")&&!t.classList.contains("nav-list-nolink"));)t=t.parentNode;t&&(e.preventDefault(),t.parentNode.classList.toggle("active"))});const t=document.getElementById("site-nav"),n=document.getElementById("main-header"),r=document.getElementById("menu-button");e.addEvent(r,"click",function(e){e.preventDefault(),r.classList.toggle("nav-open")?(t.classList.add("nav-open"),n.classList.add("nav-open")):(t.classList.remove("nav-open"),n.classList.remove("nav-open"))})}(),n()})}(window.jtd=window.jtd||{});
